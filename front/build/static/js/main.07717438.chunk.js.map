{"version":3,"sources":["components/LoggedInHeader.jsx","components/NotLoggedInHeader.jsx","components/AppFrame.jsx","components/TaxiItemList.jsx","components/DialogComponent.jsx","components/Notification.jsx","services/services.js","pages/HomePage.jsx","pages/NotFoundPage.jsx","pages/LoginPage.jsx","pages/RegisterPage.jsx","pages/GuestReservationDonePage.jsx","App.jsx","index.jsx"],"names":["LoggedInHeader","user","JSON","parse","localStorage","getItem","className","name","to","onClick","removeItem","window","location","replace","NotLoggedInHeader","url","pathname","substring","AppFrame","children","href","rel","target","TaxiItemList","handleItemClick","hour","availability","state","id","DialogComponent","open","handleClose","setOpen","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","margin","label","type","fullWidth","DialogActions","Button","color","Notification","message","services","login","credentials","a","axios","post","data","register","getTimes","get","reservationDone","info","reservationCancel","getUserReservations","email","validateEmail","test","String","toLowerCase","HomePage","useState","times","setTimes","userReservations","setUserReservation","notificationContent","setNotificationContent","fetchTimes","fetchUserReservations","useEffect","triggerNotification","setTimeout","classList","contains","result","toggle","handleDialogClose","innerText","parentNode","childNodes","value","sessionStorage","setItem","map","time","i","length","taxis_availability","NotFoundPage","LoginPage","setEmail","password","setPassword","handleSubmit","e","preventDefault","stringify","onSubmit","onChange","placeholder","RegisterPage","setName","required","GuestReservationDonePage","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.07717438.chunk.js","sourcesContent":["import { Link } from 'react-router-dom';\r\n\r\nexport const LoggedInHeader = () => {\r\n  const handleClick = () => {\r\n    localStorage.removeItem('userLogged');\r\n    window.location.replace('/');\r\n  }\r\n  const user = JSON.parse(localStorage.getItem('userLogged'));\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"logged-in-header\">\r\n        <p>Hola, {user.name}</p>\r\n        <Link className=\"link\" to=\"/\" onClick={handleClick}>LogOut</Link>\r\n        {/* <form action=\"/logout\" method=\"post\">\r\n          <button className=\"link\">LogOut</button>\r\n        </form> */}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import { Link } from 'react-router-dom';\r\n\r\nexport const NotLoggedInHeader = () => {\r\n  let url = window.location.pathname.substring(1);\r\n\r\n  if (url !== 'login' && url !== 'register') {\r\n    return (\r\n      <header className=\"header\">\r\n        <div className=\"not-logged-in-header\">\r\n          <Link className=\"link\" to=\"/register\">Register</Link>\r\n          <Link className=\"link\" to=\"/login\">Login</Link>      \r\n        </div>\r\n      </header>\r\n    );\r\n  } else {\r\n    return (\r\n      <header className=\"header\">\r\n        <Link className=\"link\" to=\"/\">Main page</Link>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import { LoggedInHeader } from './LoggedInHeader';\r\nimport { NotLoggedInHeader } from './NotLoggedInHeader';\r\n\r\nexport const AppFrame = ({ children }) => {\r\n  return (\r\n    <div className=\"app-wrapper\">\r\n      {\r\n        localStorage.getItem('userLogged')\r\n        ? <LoggedInHeader />\r\n        : <NotLoggedInHeader />\r\n      }\r\n      <div className=\"content-wrapper\">\r\n        {children}\r\n      </div>\r\n      <footer className=\"footer\">\r\n        <small>\r\n          Designed and developed by <a href=\"https://www.github.com/octaviocaba\" rel=\"noreferrer noopener\" target=\"_blank\" className=\"link\">Octavio Caba</a>\r\n        </small>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n","export const TaxiItemList = ({ handleItemClick, hour, availability, state, className }) => {\r\n  return (\r\n      <li id={hour} className={className} onClick={handleItemClick}>\r\n        <p>{hour}</p>\r\n        <p>{availability}</p>\r\n        <p>{state}</p>\r\n      </li>\r\n  );\r\n}\r\n","import Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport const DialogComponent = ({ open, setOpen, handleClose }) => {  \r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Email required</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            We need an email adress to complete the taxi reservation. If you make a reservation without registrate you will only be able to cancel the reservation through email.\r\n          </DialogContentText>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label=\"Email Address\"\r\n            type=\"email\"\r\n            fullWidth\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Confirm reservation\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","export const Notification = ({ type, message }) => {\r\n  if (message === null) return null;\r\n\r\n  return (\r\n    <div className={type}>\r\n      <p>{message}</p>\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\n\r\nconst login = async credentials => {\r\n  const baseUrl = '/login';\r\n  //const baseUrl = 'http://localhost:3001/login';\r\n  const { data } = await axios.post(baseUrl, credentials);\r\n  return data;\r\n}\r\n\r\nconst register = async credentials => {\r\n  const baseUrl = '/register';\r\n  //const baseUrl = 'http://localhost:3001/register';\r\n  const { data } = await axios.post(baseUrl, credentials);\r\n  return data;\r\n}\r\n\r\nconst getTimes = async () => {\r\n  const baseUrl = '/get-times';\r\n  //const baseUrl = 'http://localhost:3001/get-times';\r\n  const { data } = await axios.get(baseUrl);\r\n  return data;\r\n}\r\n\r\nconst reservationDone = async info => {\r\n  const baseUrl = '/reservation/done';\r\n  //const baseUrl = 'http://localhost:3001/reservation/done';\r\n  const { data } = await axios.post(baseUrl, info);\r\n  return data;\r\n}\r\n\r\nconst reservationCancel = async info => {\r\n  const baseUrl = '/reservation/cancel';\r\n  //const baseUrl = 'http://localhost:3001/reservation/cancel';\r\n  const { data } = await axios.post(baseUrl, info);\r\n  return data;\r\n}\r\n\r\nconst getUserReservations = async email => {\r\n  const baseUrl = '/get-user-reservations';\r\n  //const baseUrl = 'http://localhost:3001/get-user-reservations';\r\n  const { data } = await axios.post(baseUrl, email);\r\n  return data;\r\n}\r\n\r\nconst validateEmail = email => {\r\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\n\r\nconst services = {\r\n  login,\r\n  register,\r\n  getTimes,\r\n  reservationDone,\r\n  reservationCancel,\r\n  getUserReservations,\r\n  validateEmail\r\n};\r\n\r\nexport default services;\r\n","import { useState, useEffect } from 'react';\r\nimport { TaxiItemList } from '../components/TaxiItemList';\r\nimport { BiTaxi } from 'react-icons/bi';\r\nimport { AiOutlineCheckSquare } from 'react-icons/ai';\r\nimport { ImClock } from 'react-icons/im';\r\nimport { DialogComponent } from '../components/DialogComponent';\r\nimport { Notification } from '../components/Notification';\r\nimport services from '../services/services';\r\n\r\nexport const  HomePage = () => {\r\n  const [open, setOpen] = useState({ state: false, target: null });\r\n  const [times, setTimes] = useState([]);\r\n  const [userReservations, setUserReservation] = useState([]);\r\n  const [notificationContent, setNotificationContent] = useState({ type: null, message: null });\r\n\r\n  const fetchTimes = async () => setTimes(await services.getTimes());\r\n\r\n  const fetchUserReservations = async () => {\r\n    const email = JSON.parse(localStorage.getItem('userLogged')).email;\r\n    setUserReservation(await services.getUserReservations({ email: email }));\r\n  }\r\n  \r\n  useEffect(() => {\r\n    fetchTimes();\r\n\r\n    if (localStorage.getItem('userLogged')) fetchUserReservations()\r\n  }, []);\r\n\r\n  const triggerNotification = (type, message) => {\r\n    setNotificationContent({ type: type, message: message });\r\n    return setTimeout(() => {\r\n      setNotificationContent({ type: null, message: null });\r\n    }, 5000);\r\n  }\r\n\r\n  const handleItemClick = async ({ target }) => {\r\n    if (target.classList.contains('run-out')) return triggerNotification('error', 'No taxis available for that hour');\r\n\r\n    if (localStorage.getItem('userLogged')) {\r\n      const email = JSON.parse(localStorage.getItem('userLogged')).email;\r\n\r\n      if (!target.classList.contains('reserved')) {\r\n        const result = await services.reservationDone({ email: email, hour: target.id });\r\n\r\n        if (result.type === 'error') return triggerNotification(result.type, result.message);\r\n\r\n        triggerNotification(result.type, result.message);\r\n        fetchTimes();\r\n        fetchUserReservations();\r\n        return target.classList.toggle('reserved');\r\n      } else {\r\n        const result = await services.reservationCancel({ email: email, hour: target.id });\r\n\r\n        if (result.type === 'error') return triggerNotification(result.type, result.message);\r\n\r\n        triggerNotification(result.type, result.message);\r\n        fetchTimes();\r\n        fetchUserReservations();\r\n        return target.classList.toggle('reserved');\r\n      }\r\n    }\r\n\r\n    setOpen({ state: true, target: target});\r\n  }\r\n\r\n  const handleDialogClose = async ({ target }) => {\r\n    const { innerText } = target;\r\n    if (innerText === 'CANCEL') return setOpen({ state: false, target: null });\r\n\r\n    const email = target.classList.contains('MuiButton-label')\r\n                  ? target.parentNode.parentNode.parentNode.childNodes[1].childNodes[1].childNodes[1].childNodes[0].value\r\n                  : false;\r\n\r\n    if (services.validateEmail(email)) {\r\n      const result = await services.reservationDone({ email: email, hour: open.target.id });\r\n\r\n      if (result.type === 'error') return triggerNotification(result.type, result.message);\r\n\r\n      setOpen({ state: false, target: null });\r\n      sessionStorage.setItem('guest', email);\r\n      return window.location.replace('/guest-reservation-done');\r\n    } else {\r\n      triggerNotification('error', 'Invalid email');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Taxi schedule</h2>\r\n      <Notification message={notificationContent.message} type={notificationContent.type} />\r\n      <DialogComponent open={open.state} setOpen={setOpen} handleClose={handleDialogClose} />\r\n      <ul className=\"taxis-list-container\">\r\n        <li className=\"taxi-item-list\">\r\n          <p className=\"taxi-list-icon\"><ImClock />&nbsp;<span>Hour</span></p>\r\n          <p className=\"taxi-list-icon\"><BiTaxi />&nbsp;<span>Available taxis</span></p>\r\n          <p className=\"taxi-list-icon\"><AiOutlineCheckSquare />&nbsp;<span>Availability</span></p>\r\n        </li>\r\n        {\r\n          times[0]\r\n          ? times.map(time => {\r\n              for (let i = 0; i < userReservations.length; i++) {\r\n                if (userReservations[i].hour === time.hour) {\r\n                  return (\r\n                    <TaxiItemList\r\n                      className=\"taxi-item-list reserved\"\r\n                      key={time.hour}\r\n                      handleItemClick={handleItemClick}\r\n                      hour={time.hour}\r\n                      availability={time.taxis_availability}\r\n                      state=\"Reserved\"\r\n                    />\r\n                  );\r\n                }\r\n              }\r\n\r\n              if (time.taxis_availability === 0) {\r\n                return (\r\n                  <TaxiItemList\r\n                    className=\"taxi-item-list run-out\"\r\n                    key={time.hour}\r\n                    handleItemClick={handleItemClick}\r\n                    hour={time.hour}\r\n                    availability={time.taxis_availability}\r\n                    state=\"No\"\r\n                  />\r\n                );\r\n              }\r\n\r\n              return (\r\n                <TaxiItemList\r\n                  className=\"taxi-item-list\"\r\n                  key={time.hour}\r\n                  handleItemClick={handleItemClick}\r\n                  hour={time.hour}\r\n                  availability={time.taxis_availability}\r\n                  state=\"Yes\"\r\n                />\r\n              );\r\n            })\r\n          : null\r\n        }\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import { Link } from 'react-router-dom';\r\nimport { FaHeartBroken } from 'react-icons/fa';\r\n\r\nexport const NotFoundPage = () => {\r\n  return (\r\n    <div className=\"not-found\">\r\n      <h2>Oops...&nbsp;&nbsp;<FaHeartBroken /></h2>\r\n      <p>Couldn't find the page you're looking for</p>\r\n      <Link to=\"/\" className=\"link\">To main Page</Link>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Notification } from '../components/Notification';\r\nimport services from '../services/services';\r\n\r\nexport const LoginPage = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [notificationContent, setNotificationContent] = useState({ type: null, message: null });\r\n\r\n  if (localStorage.getItem('userLogged')) return <Redirect to=\"/\" />;\r\n\r\n  const handleEmailChange = ({ target }) => setEmail(target.value);\r\n\r\n  const handlePasswordChange = ({ target }) => setPassword(target.value);\r\n  \r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const user = await services.login({ email, password });\r\n\r\n    if (user.type === 'error') return triggerNotification(user.type, user.message);\r\n    localStorage.setItem('userLogged', JSON.stringify(user));\r\n    window.location.replace('/');\r\n  }\r\n\r\n  const triggerNotification = (type, message) => {\r\n    setNotificationContent({ type: type, message: message });\r\n    return setTimeout(() => {\r\n      setNotificationContent({ type: null, message: null });\r\n    }, 5000);\r\n  }\r\n\r\n  return (\r\n    <div className=\"login-component\">\r\n      <h2>Login</h2>\r\n      <Notification type={notificationContent.type} message={notificationContent.message} />\r\n      <form onSubmit={handleSubmit} className=\"login-form\">\r\n        <div className=\"form-field\">\r\n          <input type=\"email\" name=\"email\" id=\"email\" value={email} onChange={handleEmailChange} placeholder=\"Email\" />\r\n        </div>\r\n        <div className=\"form-field\">\r\n          <input type=\"password\" name=\"password\" id=\"password\" value={password} onChange={handlePasswordChange} placeholder=\"Password\" />\r\n        </div>\r\n        <button className=\"login-button\">Login</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Notification } from '../components/Notification';\r\nimport services from '../services/services';\r\n\r\nexport const RegisterPage = () => {\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [notificationContent, setNotificationContent] = useState({ type: null, message: null });\r\n\r\n  if (localStorage.getItem('resultLogged')) return <Redirect to=\"/\" />;\r\n\r\n  const handleNameChange = ({ target }) => setName(target.value);\r\n\r\n  const handleEmailChange = ({ target }) => setEmail(target.value);\r\n\r\n  const handlePasswordChange = ({ target }) => setPassword(target.value);\r\n  \r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const result = await services.register({ name, email, password });\r\n\r\n    if (result.type === 'error') return triggerNotification(result.type, result.message);\r\n\r\n    if (result.type === 'success') {\r\n      setTimeout(async () => {\r\n        const user = await services.login({ email, password });\r\n\r\n        if (user.type === 'error') {\r\n          return triggerNotification(user.type, user.message);\r\n        }\r\n        localStorage.setItem('userLogged', JSON.stringify(user));\r\n        window.location.replace('/');\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  const triggerNotification = (type, message) => {\r\n    setNotificationContent({ type: type, message: message });\r\n    return setTimeout(() => {\r\n      setNotificationContent({ type: null, message: null });\r\n    }, 5000);\r\n  }\r\n\r\n  return (\r\n    <div className=\"register-component\">\r\n      <h2>Register</h2>\r\n      <Notification type={notificationContent.type} message={notificationContent.message} />\r\n      <form onSubmit={handleSubmit} className=\"login-form\">\r\n        <div className=\"form-field\">\r\n          <input type=\"text\" name=\"name\" id=\"name\" value={name} onChange={handleNameChange} placeholder=\"Name\" required/>\r\n        </div>\r\n        <div className=\"form-field\">\r\n          <input type=\"email\" name=\"email\" id=\"email\" value={email} onChange={handleEmailChange} placeholder=\"Email\" required/>\r\n        </div>\r\n        <div className=\"form-field\">\r\n          <input type=\"password\" name=\"password\" id=\"password\" value={password} onChange={handlePasswordChange} placeholder=\"Password\" required/>\r\n        </div>\r\n        <button className=\"login-button\">Register</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { BiMapPin } from 'react-icons/bi';\r\nimport { Notification } from '../components/Notification';\r\n\r\nexport const GuestReservationDonePage = () => {\r\n  const [notificationContent, setNotificationContent] = useState({ type: null, message: null });\r\n\r\n  useEffect(() => {\r\n    setNotificationContent({ type: 'success', message: 'Successful reservation' });\r\n    setTimeout(() => {\r\n      setNotificationContent({ type: null, message: null });\r\n      sessionStorage.removeItem('guest');\r\n    }, 5000);\r\n  }, []);\r\n\r\n  if (localStorage.getItem('userLogged')) return <Redirect to=\"/\" />;\r\n  if (!sessionStorage.getItem('guest')) return <Redirect to=\"/\" />;\r\n\r\n  return (\r\n    <div className=\"guest-reservation\">\r\n      <Notification type={notificationContent.type} message={notificationContent.message} />\r\n      <h2>Thanks for the reservation!&nbsp;&nbsp;<BiMapPin /></h2>\r\n      <p>If you need to cancel the reservation, please get it contact with us at <span>john@doe.com</span></p>\r\n      <Link to=\"/\" className=\"link\">To main Page</Link>\r\n    </div>\r\n  );\r\n}\r\n","import { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport { AppFrame } from './components/AppFrame';\nimport { HomePage } from './pages/HomePage';\nimport { NotFoundPage } from './pages/NotFoundPage';\nimport { LoginPage } from './pages/LoginPage';\nimport { RegisterPage } from './pages/RegisterPage';\nimport { GuestReservationDonePage } from './pages/GuestReservationDonePage';\nimport './App.css';\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          <AppFrame>\n            <HomePage />\n          </AppFrame>\n        </Route>\n        <Route exact path=\"/login\">\n          <AppFrame>\n            <LoginPage />\n          </AppFrame>\n        </Route>\n        <Route exact path=\"/register\">\n          <AppFrame>\n            <RegisterPage />\n          </AppFrame>\n        </Route>\n        <Route exact path=\"/guest-reservation-done\">\n          <AppFrame>\n            <GuestReservationDonePage />\n          </AppFrame>\n        </Route>\n        <Route>\n          <AppFrame>\n            <NotFoundPage />\n          </AppFrame>\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}